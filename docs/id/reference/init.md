# anaphase init

Inisialisasi proyek microservice baru dengan struktur Clean Architecture.

::: info
**Quick Start**: Jalankan `anaphase` (tanpa argumen) untuk mengakses menu interaktif di mana Anda dapat memilih "Initialize Project" untuk pengalaman setup terpandu.
:::

## Synopsis

```bash
anaphase init [project-name] [flags]
```

## Deskripsi

Membuat proyek Go baru dengan setup zero-configuration:
- Struktur direktori Clean Architecture
- Package Domain-Driven Design (DDD)
- Inisialisasi Go module
- File konfigurasi dasar
- File `.env` yang di-generate otomatis dengan default yang masuk akal
- Instalasi dependency otomatis
- Pemilihan database interaktif

::: info
**Fitur Auto-Setup**: v0.4.0 mencakup setup environment otomatis, instalasi dependency, dan konfigurasi database untuk memulai lebih cepat.
:::

## Arguments

### `project-name` (opsional)

Nama direktori proyek yang akan dibuat.

- Jika tidak ditentukan, menggunakan direktori saat ini
- Membuat direktori jika belum ada
- Harus berupa nama Go module yang valid

```bash
# Buat di direktori baru
anaphase init my-api

# Gunakan direktori saat ini
cd my-project
anaphase init
```

## Fitur Auto-Setup

### 1. Auto-Creation File Environment

Command init secara otomatis membuat file `.env` dengan default yang masuk akal:

```bash
anaphase init my-api
```

`.env` yang dihasilkan:
```env
# Server Configuration
PORT=8080
HOST=localhost

# Database Configuration
DATABASE_URL=postgres://postgres:postgres@localhost:5432/mydb?sslmode=disable

# AI Provider Configuration (optional)
# GEMINI_API_KEY=your-key-here
# OPENAI_API_KEY=your-key-here
# GROQ_API_KEY=your-key-here
# CLAUDE_API_KEY=your-key-here
```

::: info
**Siap Dijalankan**: File `.env` yang dihasilkan berisi default yang berfungsi. Cukup update nilai yang Anda perlukan.
:::

### 2. Instalasi Dependency

Dependency diinstal secara otomatis selama inisialisasi:

```bash
anaphase init my-api
# Otomatis menjalankan: go mod download
# Semua dependency siap digunakan
```

### 3. Pemilihan Database

Prompt interaktif untuk pilihan database:

```
Select database:
  1) PostgreSQL (recommended)
  2) MySQL
  3) MongoDB
  4) Skip database setup
```

Database yang dipilih dikonfigurasi di file `.env` Anda secara otomatis.

## Contoh

### Menu Interaktif (Disarankan)

```bash
# Luncurkan menu interaktif
anaphase

# Pilih "Initialize Project" dan ikuti prompt terpandu:
# - Nama proyek
# - Path module
# - Pemilihan database
# - Setup environment
```

### Penggunaan Dasar

```bash
anaphase init ecommerce-api
cd ecommerce-api
```

Command akan:
1. Membuat struktur proyek
2. Inisialisasi Go module
3. Generate file `.env` dengan default
4. Install dependency secara otomatis
5. Prompt untuk pemilihan database

### Dengan Module Path

```bash
anaphase init --module github.com/myorg/myapi
```

## Struktur yang Dihasilkan

```
my-api/
├── cmd/
│   └── api/              # Application entry points (generated by wire)
├── internal/
│   ├── core/            # Domain Layer
│   │   ├── entity/      # Domain entities
│   │   ├── port/        # Interfaces (ports)
│   │   └── valueobject/ # Value objects
│   └── adapter/         # Infrastructure Layer
│       ├── handler/     # HTTP/gRPC handlers
│       └── repository/  # Database implementations
├── go.mod
└── README.md
```

## Langkah Selanjutnya

Setelah inisialisasi, proyek Anda siap digunakan:

### Opsi 1: Gunakan Menu Interaktif

```bash
anaphase

# Menu menyediakan akses mudah ke:
# - Generate Domain
# - Generate Handler
# - Generate Repository
# - Quality Checks
```

### Opsi 2: Gunakan Command CLI

```bash
# 1. Generate domain (AI opsional)
anaphase gen domain "Customer with email and name"

# 2. Generate infrastructure
anaphase gen handler --domain customer
anaphase gen repository --domain customer --db postgres

# 3. Wire dan jalankan
anaphase wire
go run cmd/api/main.go
```

::: info
**Zero Configuration**: Semua dependency telah terinstal dan file `.env` sudah siap. Anda dapat langsung mulai generate kode.
:::

## Lihat Juga

- [Quick Start](/guide/quick-start)
- [Architecture](/guide/architecture)
- [gen domain](/reference/gen-domain)
